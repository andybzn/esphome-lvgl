# =============================================================================
# MUSIC DASHBOARD - HTTP request, album art image
# =============================================================================
# Required for online_image (album art from Home Assistant entity_picture).
# Placeholder image shown until art is downloaded.
# =============================================================================

http_request:
  id: http_req

# Placeholder shown while album art is loading or when no art is available.
# Single placeholder reused for both foreground and background to save flash (480x480 would exceed flash).
image:
  - file: "https://placehold.co/150x150/2d2d2d/555555"
    id: album_art_placeholder
    type: rgb565

# Dynamic album art from media_player entity_picture (URL set by sensors.yaml).
# Smaller resize (150x150) = less data = faster download and decode.
online_image:
  - url: "https://placehold.co/150x150/2d2d2d/555555"
    id: album_art_image
    type: rgb565
    format: jpeg
    placeholder: album_art_placeholder
    resize: 150x150
    on_download_finished:
      - lvgl.image.update:
          id: album_art_widget
          src: album_art_image

  # Full-screen background (same URL, scaled up); soft look via opacity in LVGL.
  - url: "https://placehold.co/150x150/2d2d2d/555555"
    id: album_art_background
    type: rgb565
    format: jpeg
    placeholder: album_art_placeholder
    resize: 480x480
    on_download_finished:
      - lvgl.image.update:
          id: album_art_background_widget
          src: album_art_background
